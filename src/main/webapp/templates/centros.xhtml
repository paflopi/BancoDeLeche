<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"    
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
          
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>
        <title>Principal</title>
        <link rel="shortcut icon" href="../resources/icons/logo1.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="../resources/css/bootstrap.css" />
        <script type="text/javascript" src="../resources/js/jquery.js"></script>
        <script type="text/javascript" src="../resources/js/bootstrap.js"></script>
<!--        <f:view>
            <f:event type="preRenderView" listener="" />
        </f:view>-->
    </h:head>
    <body style="background-color: rgb(223,228,230)">
        <ui:insert name="header">
            <ui:include src="header.xhtml"></ui:include>
        </ui:insert>
        <div class="container" style="padding:0px;">
            <div class="row">
                <div class="col-md-9">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Centros registrados 
                            <h:form>
                                <p:commandButton styleClass="btn btn-default" id="firstname" update="out1" value="Update" actionListener="#{login.setUsername('Pepe')}">
                                    <p:ajax event="click" />
                                </p:commandButton>
                                <h:outputText id="out1" value="#{login.username}" />
                            </h:form>
                        </div>
                        <div class="panel-body">
                            <table class="table table-hover">
                                <thead>
                                    <td>Id</td>
                                    <td>Nombre</td>
                                    <td>Domicilio</td>
                                    <td>Teléfono</td>
                                    <td>Acción</td>
                                </thead>
                                <tbody>
                                    <h:form id="tableCentros">
                                        <c:forEach var="centro" items="#{centros.centros}">
                                            <tr>
                                                <td>
                                                    <h:outputText value="#{centro.get('id')}" />
                                                </td>
                                                <td>
                                                    <h:outputText value="#{centro.get('nombre')}" />
                                                </td>
                                                <td>
                                                    <h:outputText value="#{centro.get('domicilio')}" />
                                                </td>
                                                <td>
                                                    <h:outputText value="#{centro.get('telefono')}" />
                                                </td>
                                                <td>
                                                    <a href="#" class="text-danger" title="Eliminar"><span class="glyphicon glyphicon-remove"></span></a>
                                                    <a href="#" title="Modificar"><span class="glyphicon glyphicon-refresh"></span></a>
                                                </td>
                                            </tr>
                                        </c:forEach>
                                    </h:form>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div><!-- End of col-md-3 -->
                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="panel-heading">Agregar centro asociado</div>
                        <div class="panel-body">
                            <h:form>
                                <label for="nombre">Nombre</label>
                                <h:inputText class="form-control" value="#{centros.nombre}" />
                                <label>Domicilio</label>
                                <h:inputText class='form-control' value="#{centros.domicilio}" />
                                <label>Teléfono</label>
                                <h:inputText class="form-control" value="#{centros.telefono}" />
                                <p:commandButton action="#{centros.addCentro()}" update="tableCentros" value="Listo" />
                            </h:form>
                            <h:outputLabel class="alert alert-danger" rendered="#{centros.nombre == null}" value="El nombre del centro no puede ser vacío" />
                            <h:outputLabel class="alert alert-danger" rendered="#{centros.domicilio == null}" value="El domicilio del centro no puede ser vacío" />
                            <h:outputLabel class="alert alert-danger" rendered="#{centros.telefono == null}" value="El telefono del centro no puede ser vacío" />
                            <h:outputLabel class="alert alert-success" rendered="#{centros.addFlag == true}" value="El centro fue agregado con éxito" style="margin-top: 10px;" />
                        </div>
                    </div>
                </div><!-- End of col-md-3 -->
            </div><!-- End of row div -->
            <div class="row">
                
            </div><!-- End of row div -->
        </div><!-- End of container div -->
    </body>
</html>